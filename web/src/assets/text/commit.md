# 変更内容の記録

リポジトリ内の各ファイルには

- 新規作成されて Git から追跡されていないもの(untracked)
- Git から追跡されているもの(tracked)
 
2通りがあります。追跡されているものの中には

- 「未変更(unmodified)」
- 「変更済み(modified)」
- 「ステージ済み(staged)」

の3つの状態があります。

どのファイルもステージングエリアに追加することで、コミット(記録)対象になります。ファイルの変更を Git で記録することで、追跡対象に置くことができます。

![commit_flow](@/assets/text/img/git_commit_flow.png)

## 問題: コミットしてみよう

前回の「リポジトリの作成」で作成したリポジトリの中に、新しくファイルを作ってみましょう。今回はコマンドで簡単に生成します。

```bash
# 前回作成した 'hello-git' ディレクトリの中から始まります
echo "hello" > hello.txt # hello という出力を hello.txt に書き込む
cat hello.txt # hello.txt の確認
```

`git status` コマンドでリポジトリの状態を確認してみましょう。

```bash
git status
```

今までのリポジトリの記録に存在していなかったファイルなので、Untracked files の一覧に表示されます。

作成・変更したファイルを Git に記録する準備として、ステージングエリアに登録してみましょう。 `git add <ファイル名>` で指定したファイルをステージングエリアに追加できます。

```bash
git add hello.txt # hello.txt をステージングエリアに追加
```

ステージングエリアに追加後、 `git status` コマンドでは Changes to be committed (コミットする変更) の一覧に表示されます。

それでは、ステージングエリアに登録されているファイルを Git に記録してみましょう。記録するには `git commit` というコマンドを使用します。後ろにつける `-m` または `--message` というオプションは、コマンドライン上でコミットメッセージを入力するためのオプションです。

```bash
git commit -m "はじめてのコミット" # "はじめてのコミット" というメッセージをつけてコミット
```

これまでのコミットの履歴を確認するには `git log` コマンドを使用します。コミット時に指定したコメントが表示されていたら成功です！

```bash
git log
# 'git log --oneline' で一行表示もできます。
```

Git にファイルの変更を記録する `git add <ファイル名>` からの `git commit -m "<メッセージ>"` はよく使うので覚えておきましょう。

---

今回は恐らく大丈夫ですが、 Git のコマンドで画面に収まらない量のログが表示されて操作ができなくなった場合、`[q] キー` でログの画面から抜け出せます。また、 `[j] キー` で下方向へ、 `[k] キー` で上方向へスクロールできます。
