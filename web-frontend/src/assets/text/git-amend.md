# コミットのやり直し

コミットする際に `--amend` オプションを付け加えることで、前回のコミットに対してファイルを追加したり、コメントの変更ができます。

## コミットのやり直し: ファイルの追加忘れへの対応

コミット後にファイルの追加を忘れていたことに気付いた場合、対象ファイルをステージングエリアに追加して `--amend` オプションを付けてコミットをすると、以前のコミットに追加できます。また、 `--no-edit` オプションを付け加えると、前回のメッセージをそのまま使用できます。

以下の Git コマンドを実行してみましょう。

```bash
# この問題は事前にある程度の処理が行われています
# 事前に 'git status' でコミットし忘れているファイルを確認してみよう
git add study.txt
git commit --amend --no-edit # 前回のコミットに修正

git log study.txt # study.txt が含まれているコミットログを表示
```

追加されたか確認するには `git log study.txt` のように、対象ファイルを git log で表示させ、対象のコミットログが表示されたら成功です。

## コミットのやり直し: 直前のコミットメッセージの変更

前回のコミットメッセージを修正したい場合、コミットメッセージをつけるコミットに対し `--amend` オプションを付け加えることで修正できます。

以下の Git コマンドを実行してみましょう。

```bash
# この問題は事前にある程度の処理が行われています
# 事前に 'git log' で前回のコミットメッセージを確認してみよう
git commit --amend -m "修正メッセージ" # 前回のコミットのメッセージを修正
git log # コミットログを確認
```

`git log` での最新のコミットメッセージが変更されていれば成功です。
